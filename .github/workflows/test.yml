name: Test Pixel as a Service
on:
  workflow_dispatch:
jobs:
  test:
    runs-on: ubuntu-22.04
    timeout-minutes: 10
    steps:
      - name: checkout
        uses: actions/checkout@v6.0.1
      - name: install
        run: sudo apt-get -y install python3-pil
      - name: run
        env:
          IMAGE: ${{ secrets.IMAGE }}
          PORT: ${{ secrets.PORT }}
          SERVER: ${{ secrets.SERVER }}
        run: |
          wget --quiet "$IMAGE" --output-document image.png
          python3 pixel.py
